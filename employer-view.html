<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Employer Portal – CLQ Compliance Checklist (Prototype)</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 min-h-screen">
  <!-- Header -->
  <header class="bg-white shadow">
    <div class="max-w-6xl mx-auto px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <!-- Replace with your emblem/logo -->
        <img src="./jata-negara.png" alt="Malaysia" class="h-10 w-10 object-contain bg-white rounded" />
        <div>
          <h1 class="text-lg font-semibold text-gray-800">Employer Portal – CLQ Compliance</h1>
          <p class="text-xs text-gray-500">Prototype | Act 446 (Workers’ Minimum Standards of Housing & Amenities)</p>
        </div>
      </div>

      <!-- Compliance Badge -->
      <div class="flex items-center gap-3">
        <div class="text-right">
          <p class="text-xs text-gray-500">Current Status</p>
          <p class="text-sm font-semibold text-gray-800">Verified Compliance</p>
        </div>
		<span class="inline-flex items-center gap-2 px-3 py-2 rounded-xl border bg-white">
		  <span class="align-center h-2.5 w-2.5 rounded-full bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-600 shadow"></span>
		  <span class="text-xs font-semibold text-gray-800">COMPLIANCE BADGE</span>
		</span>
      </div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto p-6 space-y-6">
    <!-- CLQ Summary -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div class="bg-white rounded-xl shadow p-4">
        <p class="text-xs text-gray-500">CLQ Name</p>
        <p class="text-base font-semibold text-gray-800" id="clqName">Universal Best Sdn Bhd (CLQ)</p>
        <p class="mt-1 text-xs text-gray-500" id="clqAddress">Lot 3329, 3330 Jalan ...</p>
      </div>

      <div class="bg-white rounded-xl shadow p-4">
        <p class="text-xs text-gray-500">Registration / Certificate</p>
        <p class="text-sm font-semibold text-gray-800" id="clqReg">REG-90001</p>
        <p class="mt-1 text-xs text-gray-500" id="clqCert">PAC/10202/2022/61583</p>
      </div>

      <div class="bg-white rounded-xl shadow p-4">
        <p class="text-xs text-gray-500">Latest Visit / Investigation Outcome</p>
        <p class="text-sm font-semibold text-gray-800" id="lastVisit">12 Nov 2025</p>
        <p class="mt-1 text-xs text-gray-500" id="outcome">Minor non-compliance found. Rectification in progress.</p>
      </div>
    </section>

    <!-- Checklist + Badge panel -->
    <section class="grid grid-cols-1 lg:grid-cols-3 gap-4">
      <!-- Checklist -->
      <div class="lg:col-span-2 bg-white rounded-xl shadow p-4">
        <div class="flex items-start justify-between gap-4">
          <div>
            <h2 class="text-sm font-semibold text-gray-800">Compliance Checklist (Simple)</h2>
            <p class="text-xs text-gray-500">
              This checklist summarises the latest verification. Employers may update rectification evidence for items marked “Not Met”.
            </p>
          </div>

          <div class="text-right">
            <p class="text-xs text-gray-500">Overall Score</p>
            <p class="text-2xl font-semibold text-gray-900" id="score">6/8</p>
          </div>
        </div>

        <div class="mt-4 border rounded-xl overflow-hidden">
          <table class="w-full text-sm">
            <thead class="bg-gray-50">
              <tr>
                <th class="text-left p-3">Item</th>
                <th class="text-left p-3">Requirement</th>
                <th class="text-center p-3">Status</th>
                <th class="text-left p-3">Notes</th>
              </tr>
            </thead>
            <tbody id="checklistBody" class="divide-y"></tbody>
          </table>
        </div>

        <div class="mt-4 flex items-center justify-between">
          <p class="text-xs text-gray-500">
            Note: Prototype view only. Final enforcement decisions remain under officer authority.
          </p>
          <button class="px-3 py-2 rounded-lg text-xs font-semibold bg-blue-600 text-white hover:bg-blue-700">
            Upload Rectification Evidence (Prototype)
          </button>
        </div>
      </div>

      <!-- Badge Criteria -->
      <div class="bg-white rounded-xl shadow p-4">
        <h3 class="text-sm font-semibold text-gray-800">Badge Criteria</h3>
        <p class="text-xs text-gray-500 mt-1">
          Badge is issued when minimum checklist items are met and no critical findings exist.
        </p>

        <div class="mt-4 space-y-3">
          <div class="p-3 rounded-xl border bg-gray-50">
            <p class="text-xs text-gray-500">Current Badge</p>
            <p class="text-sm font-semibold text-gray-900" id="badgeName">Gold – Verified</p>
			<img src="./gold-compliance-2.png" style="height:250px;width:250px;object-fit:contain;background:transparent;padding:4px;">
            <p class="text-xs text-gray-500 mt-1" id="badgeDesc">Meets minimum standard. Continue monitoring & maintain compliance.</p>
          </div>

          <div class="p-3 rounded-xl border">
            <p class="text-xs font-semibold text-gray-800">How to Improve</p>
            <ul class="mt-2 text-xs text-gray-600 list-disc pl-5 space-y-1" id="tips">
              <li>Rectify items marked “Not Met” and submit evidence.</li>
              <li>Maintain records of housekeeping and maintenance schedules.</li>
              <li>Encourage workers to use official complaint channels.</li>
            </ul>
          </div>

          <div class="p-3 rounded-xl border">
		    <a href="certificate.html" 
				class="px-3 py-2 rounded-lg text-xs font-semibold bg-red-600 text-white hover:bg-red-700 inline-block">
				View Certificate
			</a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // ✅ Simple data (you can swap per CLQ)
    const checklist = [
      { item: "Toilet", req: "Adequate toilets, functional and hygienic", status: true,  notes: "Meets minimum requirement." },
      { item: "Bath / Shower", req: "Accessible bathing facilities",      status: true,  notes: "Water supply stable." },
      { item: "Rest Area", req: "Resting / common area available",        status: false, notes: "Insufficient seating capacity." },
      { item: "Ventilation", req: "Adequate ventilation / airflow",       status: true,  notes: "Fans installed." },
      { item: "Clean Water", req: "Safe water supply and storage",        status: true,  notes: "No issues observed." },
      { item: "Waste Disposal", req: "Proper garbage disposal system",    status: false, notes: "Collection schedule needs improvement." },
      { item: "Lighting", req: "Adequate lighting and safety",            status: true,  notes: "Emergency lighting present." },
      { item: "First Aid", req: "First-aid kit available and complete",   status: true,  notes: "Expiry dates checked." }
    ];

    function badgeFromScore(passed, total) {
      // Not "game-y"—just compliance tiers
      if (passed === total) return { name: "Gold – Excellent", desc: "All checklist items met. Demonstrates strong compliance practice.", colorDot: "bg-amber-500" };
      if (passed >= Math.ceil(total * 0.75)) return { name: "Green – Verified", desc: "Meets minimum standard. Maintain compliance and monitor.", colorDot: "bg-green-500" };
      if (passed >= Math.ceil(total * 0.5)) return { name: "Amber – Improvement Required", desc: "Some items require rectification within review window.", colorDot: "bg-orange-500" };
      return { name: "Red – Action Required", desc: "Significant non-compliance. Immediate rectification and review.", colorDot: "bg-red-500" };
    }

    function renderChecklist() {
      const body = document.getElementById("checklistBody");
      body.innerHTML = "";

      let passed = 0;
      checklist.forEach((c) => {
        if (c.status) passed++;

        const statusPill = c.status
          ? `<span class="inline-flex items-center gap-2 px-2 py-1 rounded-full text-xs font-semibold bg-green-50 text-green-700 border border-green-200">
               <span class="h-2 w-2 rounded-full bg-green-500"></span> Met
             </span>`
          : `<span class="inline-flex items-center gap-2 px-2 py-1 rounded-full text-xs font-semibold bg-red-50 text-red-700 border border-red-200">
               <span class="h-2 w-2 rounded-full bg-red-500"></span> Not Met
             </span>`;

        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td class="p-3 font-medium text-gray-900">${c.item}</td>
          <td class="p-3 text-gray-600">${c.req}</td>
          <td class="p-3 text-center">${statusPill}</td>
          <td class="p-3 text-gray-600">${c.notes}</td>
        `;
        body.appendChild(tr);
      });

      document.getElementById("score").textContent = `${passed}/${checklist.length}`;

      const b = badgeFromScore(passed, checklist.length);
      document.getElementById("badgeName").textContent = b.name;
      document.getElementById("badgeDesc").textContent = b.desc;

      // Update top badge dot color (optional)
      const badgeEl = document.querySelector("header span.inline-flex span.h-2\\.5");
      if (badgeEl) {
        badgeEl.className = `h-2.5 w-2.5 rounded-full ${b.colorDot}`;
      }
    }

    renderChecklist();
  </script>
</body>
</html>
